<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>3秒シャッター for RICOH THETA S (1.0)</title>
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-72892673-1', 'auto');
ga('send', 'pageview');
</script>
</head>
<body>
javascript:(function(g,k,u,w,d,b,x,q,t,o,r,i,m,e,a,y,c){k='3SecondsShutter%20for%20'+(g='RICOH%20THETA%20S')+'%20(1.0)';u='http://192.168.1.1/osc/commands/execute';if(u.indexOf(document.domain)!=7){alert('Run%20this%20bookmarklet%20again%20after%20opening%20the%20URL%20below.%20(Wi-Fi%20connection%20with%20'+g+'%20is%20required.)\n\n'+u);location.href=u;return;}w=open();d=w.document;d.write('&lt;meta%20name="viewport"%20content="width=320px,initial-scale=1,user-scalable=no"&gt;&lt;title&gt;'+k+'&lt;/title&gt;&lt;style&gt;body{user-select:none;-webkit-user-select:none;font-family:sans-serif;}h1{font:initial;}#b{position:fixed;top:50%25;left:50%25;transform:translate(-50%25,-50%25);width:300px;height:300px;padding:0;border:10px%20solid%20#6432c8;border-radius:50%25;background:#f0f0f0;color:#757575;font-size:150px;}#b:active{background:#e1e1e1;}#b:disabled{border-color:#757575;}&lt;/style&gt;&lt;h1&gt;'+k+'%20by%20&lt;a%20href="http://twitter.com/shikaku1068"%20target="_blank"&gt;shikaku1068&lt;/a&gt;&lt;/h1&gt;&lt;button%20id="b"%20disabled&gt;&amp;Theta;&lt;/button&gt;');w.onfocus=function(){a=1;e=1;};w.onblur=function(){a=0;b.disabled=1;};w.ontouchmove=function(e){e.preventDefault();};b=d.getElementById('b');q=[];x=new%20XMLHttpRequest;x.timeout=2000;x.onloadend=function(){if(x.status==200){t.s&amp;&amp;t.s(JSON.parse(x.responseText));}else{t.e&amp;&amp;t.e();}t.f&amp;&amp;t.f();o();};o=function(){if(q.length){t=q.shift();x.open('POST',u);x.setRequestHeader('Content-Type','application/json;charset=utf-8');x.setRequestHeader('Accept','application/json');x.send(JSON.stringify({name:t.c,parameters:t.p}));}};r=function(c,p,s,e,f){q.unshift({c:c,p:p,s:s,e:e,f:f});(q.length==1)&amp;&amp;o();};b.onclick=function(){b.disabled=1;c=3;(function%20l(){if(c&gt;0){b.innerHTML=c--;w.setTimeout(l,1000);}else{r('camera.takePicture',{sessionId:i},function(){w.setTimeout(function(){i&amp;&amp;(b.disabled=0);},1000);},function(){e=1;},null);b.innerHTML='&amp;Theta;';}})();};b.ontouchend=function(){b.click();};(function%20l(){if(a&amp;&amp;!y&amp;&amp;(!i||e)){y=1;r('camera.startSession',{},function(d,r){if(d.state=='done'){r=d.results;i=r.sessionId;e=0;w.clearTimeout(m);m=w.setTimeout(function(){e=1;},r.timeout*500);b.disabled=0;}},function(){i=0;b.disabled=1;},function(){y=0;});}w.setTimeout(l,200);})();setTimeout(function(){w.focus();a||alert(k+'%20has%20been%20opened%20in%20another%20tab.');},1000);})();
</body>
</html>
